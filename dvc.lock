schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      md5: f1bb3c7ff382c3a89e065d7c8c8af629
      size: 6872
    params:
      app/configs/pspnet_resnet.yaml:
        MODEL.encoder: resnet50
        MODEL.name: PSPNet
        TRAIN.num_epoch: 50
        TRAIN.optim: AdamW
        TRAIN.seed: 666
    outs:
    - path: save/model
      md5: 5e080bc11a2c747b62b0a8c0ea4e0be0
      size: 97539149
    - path: save/results.txt
      md5: f2f68172e6c3bd98c473a9bd32ac3cc6
      size: 3789
  evaluate_val:
    cmd: python app/evaluate/eval_val.py
    deps:
    - path: app/evaluate/eval_val.py
      md5: 0f164c27b5291141385326928ff7675c
      size: 1883
    - path: save/model
      md5: 5e080bc11a2c747b62b0a8c0ea4e0be0
      size: 97539149
    - path: save/results.txt
      md5: f2f68172e6c3bd98c473a9bd32ac3cc6
      size: 3789
    outs:
    - path: save/val_metrics.json
      md5: 2399933618a6e60e0f7bb6d45b67b8e2
      size: 61
    - path: save/val_plot.png
      md5: 0c81b25fd952e7ca4bc8d43d9f615dc4
      size: 107854
  evaluate_test:
    cmd: python app/eval_test.py
    deps:
    - path: app/eval_test.py
      md5: 0c63eaadbf821845815e19572db4c6d3
      size: 2793
    - path: save/model
      md5: 5e080bc11a2c747b62b0a8c0ea4e0be0
      size: 97539149
    outs:
    - path: save/test_metrics.json
      md5: 8bbccfe19fb7bc52144b1cce9d560a8e
      size: 93
