schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      md5: 2207843ba0fe5b391a49e268d2617e25
      size: 7072
    params:
      app/configs/fpn_efficientnet.yaml:
        MODEL.encoder: efficientnet-b4
        MODEL.name: FPN
        TRAIN.num_epoch: 50
        TRAIN.optim: AdamW
        TRAIN.seed: 666
    outs:
    - path: save/model
      md5: 0a49815ed9b6ba50ade86b444fd6d7eb
      size: 78179331
    - path: save/results.txt
      md5: ed768ed42e94caa549434d71b8ad0079
      size: 3817
  evaluate_val:
    cmd: python app/evaluate/eval_val.py
    deps:
    - path: app/evaluate/eval_val.py
      md5: e4e3915edc3e13f9ae44d46373dc0e89
      size: 1886
    - path: save/model
      md5: 0a49815ed9b6ba50ade86b444fd6d7eb
      size: 78179331
    - path: save/results.txt
      md5: ed768ed42e94caa549434d71b8ad0079
      size: 3817
    outs:
    - path: save/val_metrics.json
      md5: 485a154138099dd4fe72b5c51b545733
      size: 62
    - path: save/val_plot.png
      md5: 574eafdf5e1dcc9d3c44d3b559f5bed0
      size: 89618
  evaluate_test:
    cmd: python app/eval_test.py
    deps:
    - path: app/eval_test.py
      md5: 9656e942c7d8a731f70720f5a0f56ab1
      size: 2790
    - path: save/model
      md5: 0a49815ed9b6ba50ade86b444fd6d7eb
      size: 78179331
    outs:
    - path: save/test_metrics.json
      md5: 76d2e2a0865bc72fb5b999e529f0dc79
      size: 91
