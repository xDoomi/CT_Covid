schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      md5: fe860a22789905303dd0ab6147dd1077
      size: 7081
    params:
      app/configs/pspnet_densenet.yaml:
        MODEL.encoder: densenet201
        MODEL.name: PSPNet
        TRAIN.num_epoch: 50
        TRAIN.optim: AdamW
        TRAIN.seed: 666
    outs:
    - path: save/model
      md5: 502fd3aec42ce09e6c2013588f3488e8
      size: 76948488
    - path: save/results.txt
      md5: 2d8340c31c2fa4b1ab40d74ac9ecea05
      size: 3796
  evaluate_val:
    cmd: python app/evaluate/eval_val.py
    deps:
    - path: app/evaluate/eval_val.py
      md5: 0f164c27b5291141385326928ff7675c
      size: 1883
    - path: save/model
      md5: 502fd3aec42ce09e6c2013588f3488e8
      size: 76948488
    - path: save/results.txt
      md5: 2d8340c31c2fa4b1ab40d74ac9ecea05
      size: 3796
    outs:
    - path: save/val_metrics.json
      md5: 1b3e1741d2420b788e18ed3887fdea75
      size: 62
    - path: save/val_plot.png
      md5: 6f106d2cda4b320dff492475cca01f87
      size: 105512
  evaluate_test:
    cmd: python app/eval_test.py
    deps:
    - path: app/eval_test.py
      md5: c9739d6f6b3acaec08b84abb20b3a756
      size: 2795
    - path: save/model
      md5: 502fd3aec42ce09e6c2013588f3488e8
      size: 76948488
    outs:
    - path: save/test_metrics.json
      md5: e45ae85b5750a3a7667227ed23a0f235
      size: 92
