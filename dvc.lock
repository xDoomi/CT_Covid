schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: train.py
      md5: f3ed6415fa6ebb6c64fd10129d2c9013
      size: 6685
    params:
      app/configs/pspnet_resnet.yaml:
        MODEL.encoder: resnet50
        MODEL.name: PSPNet
        TRAIN.num_epoch: 50
        TRAIN.optim: AdamW
        TRAIN.seed: 666
    outs:
    - path: save/model
      md5: 1a689321e41f785a655c5d15390f82ba
      size: 97539149
    - path: save/results.txt
      md5: ad26b1269ccee31e63a18035914c66ba
      size: 3770
  evaluate_val:
    cmd: python app/evaluate/eval_val.py
    deps:
    - path: app/evaluate/eval_val.py
      md5: 0f164c27b5291141385326928ff7675c
      size: 1883
    - path: save/model
      md5: 1a689321e41f785a655c5d15390f82ba
      size: 97539149
    - path: save/results.txt
      md5: ad26b1269ccee31e63a18035914c66ba
      size: 3770
    outs:
    - path: save/val_metrics.json
      md5: 6f46528bdd306e3d364f340a07e7d48d
      size: 62
    - path: save/val_plot.png
      md5: 59e3d906c8ae0591af4f9e8c8f3a1c83
      size: 94871
  evaluate_test:
    cmd: python app/eval_test.py
    deps:
    - path: app/eval_test.py
      md5: f6285619ddf83d91b8ba9822d9eb9589
      size: 2683
    - path: save/model
      md5: 1a689321e41f785a655c5d15390f82ba
      size: 97539149
    outs:
    - path: save/test_metrics.json
      md5: 8e6ee4c2d35d6817fc59c3b7cb9abd8c
      size: 94
